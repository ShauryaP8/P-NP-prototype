# TSP Solver Enhancements Documentation

This document outlines the updates made to the initial implementation of a TSP solver, highlighting the changes from the original version and explaining the rationale behind each enhancement.

## Original Code Overview
The initial Python script included functions to create a dataset of cities, apply k-means clustering, generate a geometric graph with `networkx`, and visualize these clusters. It also included a basic nearest neighbor tour function for solving the TSP.

### Initial Functions and Their Purpose
- `create_dataset(num_cities)`: Generates synthetic data representing cities with random coordinates.
- `apply_kmeans(coordinates, n_clusters)`: Applies k-means clustering to partition cities based on proximity.
- `create_geometric_graph(num_nodes, radius)`: Utilizes `networkx` to create a graph based on node proximity, though it wasn't integrated further in subsequent steps.
- `visualize_clusters(coordinates, clusters)`: Visualizes the clustering of cities.
- `calculate_distance(city1, city2)`: Calculates Euclidean distance between two cities using manual computation.
- `nearest_neighbor_tour(coordinates)`: Implements a simple nearest neighbor heuristic to solve the TSP for a set of coordinates.

## Updates and Enhancements

### Removal of `networkx` Usage
- **Change**: Removed the `create_geometric_graph` function and all references to `networkx`.
- **Rationale**: Simplified the script by focusing on direct methods for solving the TSP without the additional complexity of graph theory elements that were not being utilized in the solution process.

### Update of Distance Calculation
- **Change**: Updated the `calculate_distance` function to use `np.linalg.norm` for distance calculations instead of manually squaring and summing coordinates.
- **Rationale**: Improved code efficiency and readability. `np.linalg.norm` is optimized for performance and reduces potential errors in manual calculations.

### Addition of 2-opt Optimization
- **Change**: Integrated a 2-opt optimization function to refine the tours generated by the nearest neighbor heuristic.
- **Rationale**: To enhance the solution quality by iteratively improving the generated tour, potentially leading to shorter and more practical routes.

### Integration of Cluster Tours
- **Change**: Added functions to connect the optimized tours from each cluster into a comprehensive global tour.
- **Rationale**: Necessary to form a complete solution to the TSP that encompasses all clusters, ensuring that all cities are visited in an optimized manner.

### Global Tour Optimization and Visualization
- **Change**: Applied the 2-opt optimization to the global tour and added visualization for the integrated global tour.
- **Rationale**: To further optimize the entire route and visually demonstrate the effectiveness of the entire solution, from clustering to final tour optimization.

## Conclusion
These enhancements were made to streamline the process, improve the efficiency and effectiveness of the TSP solution, and make the code cleaner and more maintainable.
The focus was shifted towards a more direct and optimized approach to solving the TSP, leveraging powerful numpy functions and eliminating unused components like 
the geometric graph creation for clearer focus on the primary task.
